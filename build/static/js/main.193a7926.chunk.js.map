{"version":3,"sources":["App.js","functions/clear.js","pages/Browse/index.js","components/Carousel/index.js","pages/CategoryBrowse/index.js","components/Footer/index.js","functions/guid.js","components/Tile/index.js","pages/Login/index.js","components/Logout/index.js","components/Nav/index.js","pages/NotFound/index.js","components/PageMenu/index.js","pages/Search/index.js","pages/Settings/index.js","pages/SettingsLogin/index.js","components/SortMenu/index.js","theme.js","pages/View/index.js","index.js"],"names":["App","props","state","auth","sessionStorage","getItem","localStorage","server","setItem","version","window","caches","keys","then","names","forEach","name","delete","location","reload","this","to","guid","Component","Browse","isLoaded","metadata","history","push","url","axios","get","response","setState","data","content","catch","error","console","code","Swal","fire","title","text","message","icon","confirmButtonText","result","isConfirmed","cancelButtonText","showCancelButton","isDismissed","request","className","color","theme","palette","primary","main","size","Carousel","length","map","category","categoryInfo","children","item","id","src","posterPath","alt","Typography","CategoryBrowse","match","params","page","parseInt","queryString","parse","search","range","undefined","sort","pages","Math","ceil","PageMenu","thisprops","styles","makeStyles","footer__container","backgroundColor","background","paper","width","height","display","alignItems","justifyContent","Footer","classes","href","target","_p8","s","p","random","toString","substr","Tile","Login","password","signup","tempServer","origin","startsWith","username","handleTempServerChange","bind","handlePassChange","handleUserChange","handleServerSubmit","handleSubmit","handleSignup","dismissError","evt","preventDefault","log","value","Container","component","maxWidth","CssBaseline","Avatar","avatar","variant","form","onSubmit","noValidate","style","data-test","onClick","TextField","margin","required","fullWidth","label","autoComplete","onChange","autoFocus","disabled","type","Button","submit","textAlign","withStyles","marginTop","spacing","flexDirection","secondary","withTheme","Logout","clear","setTimeout","Nav","accounts","categories","account_list","category_list","NavUI","root","grow","flexGrow","breakpoints","up","position","borderRadius","shape","fade","common","marginRight","marginLeft","searchIcon","padding","pointerEvents","inputRoot","inputInput","paddingLeft","transition","transitions","create","browse","useHistory","useState","setSearch","AppBar","Toolbar","noWrap","pathname","key","InputBase","placeholder","input","inputProps","BrowseMenu","ThemeMenu","AccountMenu","React","menuAnchorEl","setMenuAnchorEl","handleClose","aria-controls","aria-haspopup","event","currentTarget","Menu","anchorEl","keepMounted","anchorOrigin","vertical","horizontal","transformOrigin","open","Boolean","onClose","MenuItem","Divider","light","pic","includes","IconButton","aria-label","status","NotFound","class","Pagination","count","renderItem","PaginationItem","Search","query","q","Settings","secret","handleRestart","config","postConfig","tempSecret","secret_key","post","removeItem","locale","Form","SettingsLoginForm","handleSecretChange","useStyles","formControl","minWidth","selectEmpty","SortMenu","FormControl","InputLabel","Select","labelId","lightTheme","createMuiTheme","warning","success","default","darkTheme","draculaTheme","nord","View","fetchData","a","mimeType","sources","document","documentElement","setProperty","MovieView","defaultQuality","options","video","quality","backdropPath","preload","contextmenu","link","lang","overview","Rating","voteAverage","max","readOnly","PlayerMenu","TVBView","ChildrenMenu","TVSView","hash","isHash","n","child","marginBottom","PlaylistMenu","encodeURI","navigator","clipboard","writeText","m3u8","i","element","createElement","setAttribute","encodeURIComponent","body","appendChild","click","removeChild","handleClick","ReactDOM","render","ThemeProvider","exact","path","SettingsLogin","getElementById"],"mappings":"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","file":"static/js/main.193a7926.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nimport { Redirect } from \"react-router-dom\";\n\nimport { clear, guid, version } from \"./components\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem(\"_VERSION\")) {\n      localStorage.setItem(\"_VERSION\", version);\n    }\n    if (localStorage.getItem(\"_VERSION\") !== version) {\n      clear();\n      localStorage.setItem(\"_VERSION\", version);\n    }\n  }\n\n  render() {\n    let { auth, server } = this.state;\n    return auth && server ? (\n      <Redirect to=\"/browse\" key={guid()} />\n    ) : (\n      <Redirect to=\"/login\" key={guid()} />\n    );\n  }\n}\n","export default function clear() {\n  if (\"caches\" in window) {\n    caches.keys().then((names) => {\n      names.forEach((name) => {\n        caches.delete(name);\n      });\n    });\n    window.location.reload(true);\n  }\n}\n","import React, { Component } from \"react\";\n\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport axios from \"axios\";\n\nimport { Carousel, Footer, Nav, theme } from \"../../components\";\n\nexport default class Browse extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      isLoaded: false,\n      metadata: {},\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n  }\n\n  componentDidMount() {\n    let { auth, server } = this.state;\n    if (!auth || !server) {\n      this.props.history.push(\"/logout\");\n    }\n\n    let url = `${server}/api/v1/metadata?a=${auth}&r=0:16&s=popularity-des`;\n    axios\n      .get(url)\n      .then((response) =>\n        this.setState({\n          isLoaded: true,\n          metadata: response.data.content,\n        })\n      )\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          let data = error.response.data;\n          if (data.code === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: data.message,\n              icon: \"error\",\n              confirmButtonText: \"Login\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              }\n            });\n          } else if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: data.message,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        }\n      });\n  }\n\n  render() {\n    let { isLoaded, metadata } = this.state;\n\n    return isLoaded ? (\n      <div className=\"Browse\">\n        <Nav />\n        <Carousel metadata={metadata} />\n        <Footer />\n      </div>\n    ) : (\n      <div className=\"Loading\">\n        <ClipLoader color={theme.palette.primary.main} size={75} />\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { Typography } from \"@material-ui/core\";\n\nimport { guid } from \"../../components\";\nimport \"./index.css\";\n\nexport default class Carousel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      metadata: this.props.metadata,\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n  }\n\n  render() {\n    let { metadata, server } = this.state;\n\n    return (\n      <div className=\"Carousel\">\n        {metadata.length\n          ? metadata.map((category) => (\n              <div className=\"carousel__category\" key={guid()}>\n                <Link\n                  to={`/browse/${category.categoryInfo.name}`}\n                  key={guid()}\n                  className=\"carousel__category__title no_decoration_link\"\n                >\n                  {category.categoryInfo.name}\n                </Link>\n                <div className=\"carousel__items\">\n                  {category.children.length\n                    ? category.children.map((item) => (\n                        <figure className=\"carousel__item__figure\" key={guid()}>\n                          <Link to={`/view/${item.id}`} key={guid()}>\n                            <img\n                              src={\n                                item.posterPath ||\n                                `${server}/api/v1/image/poster?text=${item.title}&extention=jpeg`\n                              }\n                              key={guid()}\n                              className=\"carousel__item__poster\"\n                              alt={item.title}\n                            />\n                          </Link>\n                          <Typography\n                            className=\"carousel__item__title\"\n                            key={guid()}\n                          >\n                            {item.title}\n                          </Typography>\n                        </figure>\n                      ))\n                    : null}\n                </div>\n              </div>\n            ))\n          : null}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport axios from \"axios\";\nimport queryString from \"query-string\";\n\nimport { Footer, Nav, PageMenu, SortMenu, Tile, theme } from \"../../components\";\n\nexport default class CategoryBrowse extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      category: this.props.match.params.category,\n      isLoaded: false,\n      metadata: {},\n      page: parseInt(queryString.parse(this.props.location.search).page) || 1,\n      range: `${\n        queryString.parse(this.props.location.search).page === undefined\n          ? \"0:16\"\n          : `${\n              (parseInt(queryString.parse(this.props.location.search).page) -\n                1) *\n              16\n            }:${\n              parseInt(queryString.parse(this.props.location.search).page) * 16\n            }`\n      }`,\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n      sort:\n        queryString.parse(this.props.location.search).sort || \"alphabet-asc\",\n    };\n  }\n\n  componentDidMount() {\n    let { auth, category, range, server, sort } = this.state;\n\n    if (!auth || !server) {\n      this.props.history.push(\"/logout\");\n    }\n\n    let url = `${server}/api/v1/metadata?a=${auth}&c=${category}&r=${range}&s=${sort}`;\n    axios\n      .get(url)\n      .then((response) =>\n        this.setState({\n          isLoaded: true,\n          metadata: response.data.content,\n          pages: Math.ceil(response.data.content[0][\"length\"] / 16),\n        })\n      )\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          let data = error.response.data;\n          if (data.code === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: data.message,\n              icon: \"error\",\n              confirmButtonText: \"Login\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              }\n            });\n          } else if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: data.message,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        }\n      });\n  }\n\n  render() {\n    let { isLoaded, metadata, page, pages, sort } = this.state;\n\n    return isLoaded ? (\n      <div className=\"CategoryBrowse\">\n        <Nav />\n        <Tile metadata={metadata} />\n        <PageMenu\n          props={{\n            page: page,\n            pages: pages,\n            sort: sort,\n            thisprops: this.props,\n          }}\n        />\n        <SortMenu props={{ thisprops: this.props }} />\n        <Footer />\n      </div>\n    ) : (\n      <div className=\"Loading\">\n        <ClipLoader color={theme.palette.primary.main} size={75} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { version } from \"../../components\";\n\nimport \"./index.css\";\n\nconst styles = makeStyles((theme) => ({\n  footer__container: {\n    backgroundColor: theme.palette.background.paper,\n    width: \"100%\",\n    height: \"75px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nexport default function Footer() {\n  const classes = styles();\n\n  return (\n    <footer className={classes.footer__container} id=\"footer__container\">\n      <a href=\"https://github.com/libDrive/libDrive\" target=\"_blank\">\n        <img\n          src=\"/images/github.png\"\n          className=\"footer__github\"\n          height=\"48px\"\n          alt=\"github-logo\"\n        />\n      </a>\n      <a\n        className=\"no_decoration_link footer__text\"\n        href=\"https://eliasbenb.github.io\"\n        target=\"_blank\"\n      >\n        {`© 2021 Copyright: Elias Benbourenane - v${version}`}\n      </a>\n    </footer>\n  );\n}\n","export default function guid() {\n  function _p8(s) {\n    var p = (Math.random().toString(16) + \"000000000\").substr(2, 8);\n    return s ? \"-\" + p.substr(0, 4) + \"-\" + p.substr(4, 4) : p;\n  }\n  return _p8() + _p8(true) + _p8(true) + _p8();\n}\n","import React, { Component } from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { Typography } from \"@material-ui/core\";\n\nimport { guid } from \"../../components\";\nimport \"./index.css\";\n\nexport default class Tile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      metadata: this.props.metadata,\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n  }\n\n  render() {\n    let { metadata, server } = this.state;\n\n    return (\n      <div className=\"Tile\">\n        {metadata.length\n          ? metadata.map((category) => (\n              <div className=\"tile__category\" key={guid()}>\n                <Link\n                  to={`/browse/${category.categoryInfo.name}`}\n                  key={guid()}\n                  className=\"tile__category__title no_decoration_link\"\n                >\n                  {category.categoryInfo.name}\n                </Link>\n                <div className=\"tile__items\">\n                  {category.children.length\n                    ? category.children.map((item) => (\n                        <figure className=\"tile__item__figure\" key={guid()}>\n                          <Link to={`/view/${item.id}`} key={guid()}>\n                            <img\n                              src={\n                                item.posterPath ||\n                                `${server}/api/v1/image/poster?text=${item.title}&extention=jpeg`\n                              }\n                              key={guid()}\n                              className=\"tile__item__poster\"\n                              alt={item.title}\n                            />\n                          </Link>\n                          <Typography\n                            className=\"tile__item__title\"\n                            key={guid()}\n                          >\n                            {item.title}\n                          </Typography>\n                        </figure>\n                      ))\n                    : null}\n                </div>\n              </div>\n            ))\n          : null}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport {\n  Avatar,\n  Button,\n  Container,\n  CssBaseline,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport axios from \"axios\";\n\nconst styles = (theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n});\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: \"\",\n      error: \"\",\n      page: false,\n      password: \"\",\n      server: \"\",\n      signup: false,\n      tempServer: window.location.origin.startsWith(\"app://-\")\n        ? \"\"\n        : window.location.origin,\n      username: \"\",\n    };\n\n    this.handleTempServerChange = this.handleTempServerChange.bind(this);\n    this.handlePassChange = this.handlePassChange.bind(this);\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.handleServerSubmit = this.handleServerSubmit.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleSignup = this.handleSignup.bind(this);\n    this.dismissError = this.dismissError.bind(this);\n  }\n\n  dismissError() {\n    this.setState({ error: \"\" });\n  }\n\n  handleServerSubmit(evt) {\n    evt.preventDefault();\n    let { tempServer } = this.state;\n    if (!tempServer) {\n      return this.setState({ error: \"Server is required\" });\n    }\n    if (!tempServer.startsWith(\"http\")) {\n      tempServer = `https://${tempServer}`;\n    }\n    axios\n      .get(`${tempServer}/api/v1/auth?rules=signup`)\n      .then((response) => {\n        let data = response.data;\n        if (data.code === 200) {\n          localStorage.setItem(\"auth\", \"0\");\n          localStorage.setItem(\"server\", tempServer);\n          sessionStorage.setItem(\"auth\", \"0\");\n          sessionStorage.setItem(\"server\", tempServer);\n          this.props.history.push(data.content);\n        } else if (data.content === true) {\n          this.setState({ signup: true, page: true });\n        } else if (data.content === false) {\n          this.setState({ signup: false, page: true });\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n        try {\n          let data = response.data;\n          Swal.fire({\n            title: \"Error!\",\n            text: data.message,\n            icon: \"error\",\n            confirmButtonText: \"OK\",\n          });\n        } catch {\n          Swal.fire({\n            title: \"Error!\",\n            text: `You were unable to communicate with the server. Are you sure ${tempServer} is the correct server?`,\n            icon: \"error\",\n            confirmButtonText: \"OK\",\n          });\n        }\n      });\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n    let { password, tempServer, username } = this.state;\n    if (!tempServer) {\n      return this.setState({ error: \"Server is required\" });\n    }\n    if (!tempServer.startsWith(\"http\")) {\n      tempServer = `https://${tempServer}`;\n    }\n\n    axios\n      .get(`${tempServer}/api/v1/auth?u=${username}&p=${password}`)\n      .then((response) => {\n        let data = response.data;\n        localStorage.setItem(\"server\", tempServer);\n        sessionStorage.setItem(\"server\", tempServer);\n        localStorage.setItem(\"auth\", data.content.auth);\n        sessionStorage.setItem(\"auth\", data.content.auth);\n        this.props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.error(error);\n        try {\n          let data = response.data;\n          Swal.fire({\n            title: \"Error!\",\n            text: data.message,\n            icon: \"error\",\n            confirmButtonText: \"OK\",\n          });\n        } catch {\n          Swal.fire({\n            title: \"Error!\",\n            text: `Something went wrong while communicating with the server ${tempServer}`,\n            icon: \"error\",\n            confirmButtonText: \"OK\",\n          });\n        }\n      });\n    return this.setState({ error: \"\" });\n  }\n\n  handleSignup() {\n    let { password, tempServer, username } = this.state;\n    if (!username) {\n      return this.setState({ error: \"Username is required\" });\n    }\n    if (!password) {\n      return this.setState({ error: \"Password is required\" });\n    }\n\n    axios\n      .get(`${tempServer}/api/v1/signup?u=${username}&p=${password}`)\n      .then((response) => {\n        let data = response.data;\n        localStorage.setItem(\"server\", tempServer);\n        sessionStorage.setItem(\"server\", tempServer);\n        localStorage.setItem(\"auth\", data.content.auth);\n        sessionStorage.setItem(\"auth\", data.content.auth);\n        this.props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n        let data = response.data;\n        try {\n          Swal.fire({\n            title: \"Error!\",\n            text: data.message,\n            icon: \"error\",\n            confirmButtonText: \"OK\",\n          });\n        } catch {\n          Swal.fire({\n            title: \"Error!\",\n            text: `Something went wrong while communicating with the server ${tempServer}`,\n            icon: \"error\",\n            confirmButtonText: \"OK\",\n          });\n        }\n      });\n    return this.setState({ error: \"\" });\n  }\n\n  handleTempServerChange(evt) {\n    this.setState({\n      tempServer: evt.target.value,\n    });\n  }\n\n  handleUserChange(evt) {\n    this.setState({\n      username: evt.target.value,\n    });\n  }\n\n  handlePassChange(evt) {\n    this.setState({\n      password: evt.target.value,\n    });\n  }\n\n  render() {\n    let { error, password, page, tempServer, username } = this.state;\n    const { classes } = this.props;\n\n    return !page ? (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form\n            className={classes.form}\n            onSubmit={this.handleServerSubmit}\n            noValidate\n          >\n            {error && (\n              <div style={{}}>\n                <h3 data-test=\"error\" onClick={this.dismissError}>\n                  <button onClick={this.dismissError}>✖</button>\n                  {error}\n                </h3>\n              </div>\n            )}\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"server\"\n              label=\"Server\"\n              name=\"server\"\n              autoComplete=\"server\"\n              onChange={this.handleTempServerChange}\n              value={tempServer}\n              autoFocus\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Next\n            </Button>\n          </form>\n        </div>\n      </Container>\n    ) : (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form\n            className={classes.form}\n            onSubmit={this.handleSubmit}\n            noValidate\n          >\n            {error && (\n              <div style={{}}>\n                <h3 data-test=\"error\" onClick={this.dismissError}>\n                  <button onClick={this.dismissError}>✖</button>\n                  {error}\n                </h3>\n              </div>\n            )}\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"server\"\n              label=\"Server\"\n              name=\"server\"\n              autoComplete=\"server\"\n              onChange={this.handleTempServerChange}\n              value={tempServer}\n              autoFocus\n              disabled\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"username\"\n              onChange={this.handleUserChange}\n              value={username}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={this.handlePassChange}\n              value={password}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n            {this.state.signup ? (\n              <div className=\"Signup\" style={{ textAlign: \"center\" }}>\n                <Button\n                  type=\"button\"\n                  onClick={this.handleSignup}\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submit}\n                >\n                  Sign Up\n                </Button>\n                <Typography variant=\"body1\">\n                  Be aware that the owner of this server can view your\n                  credentials!\n                </Typography>\n              </div>\n            ) : (\n              <div className=\"Signup\"></div>\n            )}\n          </form>\n        </div>\n      </Container>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(Login);\n","import React, { Component } from \"react\";\n\nimport { Redirect } from \"react-router-dom\";\n\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport { guid, theme } from \"../../components\";\n\nexport default class Logout extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { isLoaded: false };\n  }\n\n  componentDidMount() {\n    localStorage.clear();\n    sessionStorage.clear();\n    setTimeout(() => this.setState({ isLoaded: true }), 500);\n  }\n\n  render() {\n    let { isLoaded } = this.state;\n\n    return isLoaded ? (\n      <Redirect to=\"/login\" key={guid()} />\n    ) : (\n      <div className=\"Loading\">\n        <ClipLoader color={theme.palette.primary.main} size={75} />\n      </div>\n    );\n  }\n}\n","import React, { Component, useState } from \"react\";\n\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport {\n  AppBar,\n  Button,\n  Divider,\n  InputBase,\n  Menu,\n  MenuItem,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport Brightness6Icon from \"@material-ui/icons/Brightness6\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport axios from \"axios\";\n\nimport { theme, guid } from \"../../components\";\n\nexport default class Nav extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      accounts: {},\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      categories: {},\n      isLoaded: false,\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n  }\n\n  componentDidMount() {\n    let { auth, server } = this.state;\n    let url = `${server}/api/v1/environment?a=${auth}`;\n\n    axios.get(url).then((response) => {\n      let data = response.data;\n      this.setState({\n        accounts: data.content.account_list,\n        categories: data.content.category_list,\n        isLoaded: true,\n      });\n    });\n  }\n\n  render() {\n    let { accounts, categories, isLoaded } = this.state;\n\n    return isLoaded ? (\n      <div className=\"Nav\">\n        <NavUI\n          props={{\n            categories: categories,\n            accounts: accounts,\n          }}\n        />\n      </div>\n    ) : (\n      <div className=\"Nav\">\n        <NavUI\n          props={{\n            categories: [],\n            accounts: [],\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nconst styles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    color: theme.palette.text.primary,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  title: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\",\n    },\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.main, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.main, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(3),\n      width: \"auto\",\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  inputRoot: {\n    color: \"inherit\",\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\",\n    },\n  },\n  browse: {\n    marginRight: \"15px\",\n  },\n}));\n\nexport function NavUI(props) {\n  const classes = styles();\n  const history = useHistory();\n\n  const [search, setSearch] = useState(\"\");\n  const searchChange = (evt) => {\n    setSearch(evt.target.value);\n  };\n\n  const searchSubmit = (evt) => {\n    evt.preventDefault();\n    history.push({\n      pathname: `/search/${search}`,\n      key: guid(),\n    });\n  };\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"static\" className={classes.root}>\n        <Toolbar>\n          <Link to=\"/\" className=\"no_decoration_link\">\n            <Typography className={classes.title} variant=\"h6\" noWrap>\n              libDrive\n            </Typography>\n          </Link>\n          <form className={classes.search} onSubmit={searchSubmit}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Search…\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              inputProps={{ \"aria-label\": \"search\" }}\n              onChange={searchChange}\n            />\n          </form>\n          <div className={classes.grow} />\n          <BrowseMenu props={props.props.categories} />\n          <ThemeMenu />\n          <AccountMenu props={props.props.accounts} />\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nexport function LoadingNavUI() {\n  const classes = styles();\n\n  const [search, setSearch] = useState(\"\");\n  const searchChange = (evt) => {\n    setSearch(evt.target.value);\n  };\n\n  const searchSubmit = (evt) => {\n    evt.preventDefault();\n    window.location.hash = `#/search/${search}`;\n  };\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"static\" className={classes.root}>\n        <Toolbar>\n          <Link to=\"/\" className=\"no_decoration_link\">\n            <Typography className={classes.title} variant=\"h6\" noWrap>\n              libDrive\n            </Typography>\n          </Link>\n          <form className={classes.search} onSubmit={searchSubmit}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Search…\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              inputProps={{ \"aria-label\": \"search\" }}\n              onChange={searchChange}\n            />\n          </form>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nexport function BrowseMenu(props) {\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\n  const classes = styles();\n\n  const handleClick = (event) => {\n    setMenuAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setMenuAnchorEl(null);\n  };\n\n  return (\n    <div className={classes.browse}>\n      <Button\n        aria-controls=\"browse-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n      >\n        Browse\n      </Button>\n      <Menu\n        id=\"browse-menu\"\n        anchorEl={menuAnchorEl}\n        keepMounted\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        open={Boolean(menuAnchorEl)}\n        onClose={handleClose}\n      >\n        <Link to={\"/\"} className=\"no_decoration_link\">\n          <MenuItem onClick={handleClose}>Home Page</MenuItem>\n        </Link>\n        <Divider light />\n        {props.props.length\n          ? props.props.map((category) => (\n              <Link\n                to={`/browse/${category.name}`}\n                key={guid()}\n                className=\"no_decoration_link\"\n              >\n                <MenuItem onClick={handleClose}>{category.name}</MenuItem>\n              </Link>\n            ))\n          : null}\n      </Menu>\n    </div>\n  );\n}\n\nexport function AccountMenu(props) {\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setMenuAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setMenuAnchorEl(null);\n  };\n\n  const handleRebuild = () => {\n    let auth = sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\");\n    let server =\n      sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\");\n\n    let url = `${server}/api/v1/rebuild?a=${auth}`;\n    axios\n      .get(url)\n      .then((response) =>\n        Swal.fire({\n          title: \"Success!\",\n          text: \"libDrive's metadata is being rebuilt...\",\n          icon: \"success\",\n          confirmButtonText: \"OK\",\n        })\n      )\n      .catch((error) => {\n        console.error(error);\n        if (auth == null || server == null) {\n          this.props.history.push(\"/login\");\n        } else if (error.response) {\n          if (error.response.status === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: \"Your credentials are invalid!\",\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              }\n            });\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text:\n                \"Something went wrong while communicating with the server!\",\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          Swal.fire({\n            title: \"Error!\",\n            text: `libDrive could not communicate with the server! Is ${server} the correct address?`,\n            icon: \"error\",\n            confirmButtonText: \"Logout\",\n            cancelButtonText: \"Retry\",\n            showCancelButton: true,\n          }).then((result) => {\n            if (result.isConfirmed) {\n              this.props.history.push(\"/logout\");\n            } else if (result.isDismissed) {\n              location.reload();\n            }\n          });\n        }\n      });\n  };\n\n  let pic = <AccountCircle />;\n  if (\n    props.props.pic &&\n    (props.props.pic.includes(\"http\") || props.props.pic.includes(\"www\"))\n  ) {\n    pic = <img src={props.props.pic} width=\"32px\" alt=\"profile-pic\"></img>;\n  }\n\n  return (\n    <div>\n      <IconButton\n        aria-label=\"more\"\n        aria-controls=\"account-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n      >\n        {pic}\n      </IconButton>\n      <Menu\n        id=\"account-menu\"\n        anchorEl={menuAnchorEl}\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        keepMounted\n        open={Boolean(menuAnchorEl)}\n        onClose={handleClose}\n      >\n        <Link to={\"/settings\"} className=\"no_decoration_link\">\n          <MenuItem onClick={handleClose}>Settings</MenuItem>\n        </Link>\n        <MenuItem onClick={handleRebuild}>Rebuild</MenuItem>\n        <Link to={\"/logout\"} className=\"no_decoration_link\">\n          <MenuItem onClick={handleClose}>Logout</MenuItem>\n        </Link>\n      </Menu>\n    </div>\n  );\n}\n\nexport function ThemeMenu() {\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setMenuAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setMenuAnchorEl(null);\n  };\n\n  const handleLight = () => {\n    setMenuAnchorEl(null);\n    localStorage.setItem(\"theme\", \"light\");\n    sessionStorage.setItem(\"theme\", \"light\");\n    window.location.reload();\n  };\n\n  const handleDark = () => {\n    setMenuAnchorEl(null);\n    localStorage.setItem(\"theme\", \"dark\");\n    sessionStorage.setItem(\"theme\", \"dark\");\n    window.location.reload();\n  };\n\n  const handleDracula = () => {\n    setMenuAnchorEl(null);\n    localStorage.setItem(\"theme\", \"dracula\");\n    sessionStorage.setItem(\"theme\", \"dracula\");\n    window.location.reload();\n  };\n\n  const handleNord = () => {\n    setMenuAnchorEl(null);\n    localStorage.setItem(\"theme\", \"nord\");\n    sessionStorage.setItem(\"theme\", \"nord\");\n    window.location.reload();\n  };\n\n  return (\n    <div>\n      <IconButton\n        aria-label=\"more\"\n        aria-controls=\"theme-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n      >\n        <Brightness6Icon />\n      </IconButton>\n      <Menu\n        id=\"theme-menu\"\n        anchorEl={menuAnchorEl}\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        keepMounted\n        open={Boolean(menuAnchorEl)}\n        onClose={handleClose}\n      >\n        <MenuItem onClick={handleLight}>Light</MenuItem>\n        <MenuItem onClick={handleDark}>Dark</MenuItem>\n        <MenuItem onClick={handleDracula}>Dracula</MenuItem>\n        <MenuItem onClick={handleNord}>Nord</MenuItem>\n      </Menu>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\n\nimport { Nav } from \"../../components\";\n\nimport \"./index.css\";\n\nexport default class NotFound extends Component {\n  render() {\n    return (\n      <div className=\"NotFound\">\n        <Nav />\n        <div className=\"nf\">\n          <div class=\"fof\">\n            <h1>Error 404</h1>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport { Link, Redirect } from \"react-router-dom\";\n\nimport { Pagination, PaginationItem } from \"@material-ui/lab\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { guid } from \"../../components\";\n\nconst styles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      margin: theme.spacing(4),\n    },\n  },\n}));\n\nexport default function PageMenu(props) {\n  let { page, pages, sort, thisprops } = props.props;\n  const classes = styles();\n\n  if (page > pages) {\n    return (\n      <Redirect\n        to={{\n          pathname: thisprops.location.pathname,\n          search: `?page=${pages}&sort=${sort}`,\n        }}\n        key={guid()}\n      />\n    );\n  } else {\n    return (\n      <div className={classes.root}>\n        <Pagination\n          page={page}\n          count={pages}\n          variant=\"outlined\"\n          color=\"primary\"\n          renderItem={(item) =>\n            item.page ? (\n              <Link\n                to={{\n                  pathname: thisprops.location.pathname,\n                  search: `?page=${item.page}&sort=${sort}`,\n                }}\n                key={guid()}\n                className=\"no_decoration_link\"\n              >\n                <PaginationItem {...item} />\n              </Link>\n            ) : (\n              <PaginationItem {...item} />\n            )\n          }\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport axios from \"axios\";\n\nimport { Footer, Nav, Carousel, theme } from \"../../components\";\n\nexport default class Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      isLoaded: false,\n      metadata: [],\n      query: this.props.match.params.q,\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n  }\n\n  componentDidMount() {\n    let { auth, query, server } = this.state;\n\n    if (!auth || !server) {\n      this.props.history.push(\"/logout\");\n    }\n\n    let url = `${server}/api/v1/metadata?a=${auth}&q=${query}`;\n    axios\n      .get(url)\n      .then((response) =>\n        this.setState({\n          isLoaded: true,\n          metadata: response.data.content,\n        })\n      )\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          let data = error.response.data;\n          if (data.code === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: data.message,\n              icon: \"error\",\n              confirmButtonText: \"Login\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              }\n            });\n          } else if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: data.message,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        }\n      });\n  }\n\n  render() {\n    let { isLoaded, metadata } = this.state;\n\n    return isLoaded ? (\n      <div className=\"Search\">\n        <Nav />\n        <Carousel metadata={metadata} />\n        <Footer />\n      </div>\n    ) : (\n      <div className=\"Loading\">\n        <ClipLoader color={theme.palette.primary.main} size={75} />\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport { Button } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport JSONInput from \"react-json-editor-ajrm\";\nimport locale from \"react-json-editor-ajrm/locale/en\";\n\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport axios from \"axios\";\n\nimport { Footer, Nav, theme } from \"../../components\";\n\nconst styles = (theme) => ({\n  Form: {\n    textAlign: \"center\",\n    \"& .MuiTextField-root\": {\n      width: \"30ch\",\n      margin: theme.spacing(1),\n      textAlign: \"left\",\n    },\n    \"& .MuiTypography-root\": {\n      margin: \"30px 30px\",\n    },\n  },\n  submit: {\n    margin: theme.spacing(4, 0, 2),\n    width: \"20ch\",\n  },\n});\n\nexport class Settings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      error: \"\",\n      isLoaded: false,\n      secret: sessionStorage.getItem(\"secret\"),\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n\n    this.dismissError = this.dismissError.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleRestart = this.handleRestart.bind(this);\n  }\n\n  componentDidMount() {\n    let { secret, server } = this.state;\n\n    if (sessionStorage.getItem(\"secret\") == null) {\n      this.props.history.push(\"/settings/login\");\n    } else {\n      axios\n        .get(`${server}/api/v1/config?secret=${secret}`)\n        .then((response) =>\n          this.setState({\n            config: response.data.content,\n            isLoaded: true,\n            postConfig: response.data.content,\n            tempSecret: response.data.content.secret_key,\n          })\n        )\n        .catch((error) => {\n          console.error(error);\n          if (error.response) {\n            let data = error.response.data;\n            if (data.code === 401) {\n              Swal.fire({\n                title: \"Error!\",\n                text: data.message,\n                icon: \"error\",\n                confirmButtonText: \"Login\",\n              }).then((result) => {\n                if (result.isConfirmed) {\n                  this.props.history.push(\"/logout\");\n                }\n              });\n            } else if (!server) {\n              this.props.history.push(\"/logout\");\n            } else {\n              Swal.fire({\n                title: \"Error!\",\n                text: data.message,\n                icon: \"error\",\n                confirmButtonText: \"Logout\",\n                cancelButtonText: \"Retry\",\n                showCancelButton: true,\n              }).then((result) => {\n                if (result.isConfirmed) {\n                  this.props.history.push(\"/logout\");\n                } else if (result.isDismissed) {\n                  location.reload();\n                }\n              });\n            }\n          } else if (error.request) {\n            if (!server) {\n              this.props.history.push(\"/logout\");\n            } else {\n              Swal.fire({\n                title: \"Error!\",\n                text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\n                icon: \"error\",\n                confirmButtonText: \"Logout\",\n                cancelButtonText: \"Retry\",\n                showCancelButton: true,\n              }).then((result) => {\n                if (result.isConfirmed) {\n                  this.props.history.push(\"/logout\");\n                } else if (result.isDismissed) {\n                  location.reload();\n                }\n              });\n            }\n          }\n        });\n    }\n  }\n\n  dismissError() {\n    this.setState({ error: \"\" });\n  }\n\n  handleRestart(evt) {\n    evt.preventDefault();\n    let { secret, server } = this.state;\n\n    axios\n      .get(`${server}/api/v1/restart?secret=${secret}`)\n      .then((response) => {\n        Swal.fire({\n          title: \"Success!\",\n          text: response.data.message,\n          icon: \"success\",\n          confirmButtonText: \"OK\",\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n        Swal.fire({\n          title: \"Success!\",\n          text:\n            \"libDrive is being restarted, this might take some time, so the app won't load\",\n          icon: \"success\",\n          confirmButtonText: \"OK\",\n        });\n      });\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n    let { secret, server } = this.state;\n\n    axios\n      .post(`${server}/api/v1/config?secret=${secret}`, this.state.postConfig)\n      .then((response) => {\n        Swal.fire({\n          title: \"Success!\",\n          text: response.data.message,\n          icon: \"success\",\n          confirmButtonText: \"OK\",\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          let data = error.response.data;\n          if (data.code === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: data.message,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                sessionStorage.removeItem(\"secret\");\n                this.props.history.push(\"/settings/login\");\n              }\n            });\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: data.message,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          Swal.fire({\n            title: \"Error!\",\n            text: `libDrive could not communicate with the server! Is ${server} the correct address?`,\n            icon: \"error\",\n            confirmButtonText: \"Logout\",\n            cancelButtonText: \"Retry\",\n            showCancelButton: true,\n          }).then((result) => {\n            if (result.isConfirmed) {\n              this.props.history.push(\"/logout\");\n            } else if (result.isDismissed) {\n              location.reload();\n            }\n          });\n        }\n      });\n  }\n\n  render() {\n    let { config, isLoaded } = this.state;\n    const { classes } = this.props;\n\n    return isLoaded ? (\n      <div className=\"Settings\">\n        <Nav />\n        <div style={{ margin: \"auto\", marginTop: \"50px\", width: \"50%\" }}>\n          <JSONInput\n            id=\"config-box\"\n            placeholder={config}\n            locale={locale}\n            height=\"500px\"\n            width=\"100%\"\n          />\n        </div>\n        <form\n          className={classes.Form}\n          noValidate\n          autoComplete=\"off\"\n          onSubmit={this.handleSubmit}\n        >\n          <div style={{ margin: \"30px\" }}>\n            <Button\n              style={{ marginRight: \"20px\" }}\n              fullWidth\n              variant=\"contained\"\n              color=\"secondary\"\n              className={classes.submit}\n              target=\"_blank\"\n              href=\"https://libdrive-config.netlify.app/\"\n            >\n              Create Config\n            </Button>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Submit\n            </Button>\n            <Button\n              style={{ marginLeft: \"20px\" }}\n              fullWidth\n              variant=\"contained\"\n              color=\"secondary\"\n              className={classes.submit}\n              onClick={this.handleRestart}\n            >\n              Restart\n            </Button>\n          </div>\n        </form>\n        <Footer />\n      </div>\n    ) : (\n      <div className=\"Loading\">\n        <ClipLoader color={theme.palette.primary.main} size={75} />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(Settings);\n","import React, { Component } from \"react\";\n\nimport {\n  Avatar,\n  Button,\n  Container,\n  CssBaseline,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport axios from \"axios\";\n\nimport { Nav } from \"../../components\";\n\nconst styles = (theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n});\n\nclass SettingsLoginForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      secret: \"\",\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n\n    this.handleSecretChange = this.handleSecretChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n    let { secret, server } = this.state;\n\n    axios\n      .get(`${server}/api/v1/config?secret=${secret}`)\n      .then((response) => {\n        sessionStorage.setItem(\"secret\", secret);\n        this.props.history.push(\"/settings\");\n      })\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          let data = error.response.data;\n          if (data.code === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: data.message,\n              icon: \"error\",\n              confirmButtonText: \"OK\",\n            });\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: data.message,\n              icon: \"error\",\n              confirmButtonText: \"OK\",\n            }).then((result) => {\n              location.reload();\n            });\n          }\n        } else if (error.request) {\n          Swal.fire({\n            title: \"Error!\",\n            text:\n              \"libDrive could not communicate with the server. Is ${server} the correct address?\",\n            icon: \"error\",\n            confirmButtonText: \"Logout\",\n            cancelButtonText: \"Retry\",\n            showCancelButton: true,\n          }).then((result) => {\n            if (result.isConfirmed) {\n              this.props.history.push(\"/logout\");\n            } else if (result.isDismissed) {\n              location.reload();\n            }\n          });\n        }\n      });\n  }\n\n  handleSecretChange(evt) {\n    this.setState({\n      secret: evt.target.value,\n    });\n  }\n\n  render() {\n    let { secret } = this.state;\n    const { classes } = this.props;\n\n    return (\n      <div className=\"SettingsLoginForm\">\n        <Nav />\n        <Container component=\"main\" maxWidth=\"xs\">\n          <CssBaseline />\n          <div className={classes.paper}>\n            <Avatar className={classes.avatar}>\n              <LockOutlinedIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n              Settings Login\n            </Typography>\n            <form\n              className={classes.form}\n              onSubmit={this.handleSubmit}\n              noValidate\n            >\n              <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                fullWidth\n                id=\"secret\"\n                label=\"Secret\"\n                name=\"secret\"\n                type=\"password\"\n                autoComplete=\"secret\"\n                onChange={this.handleSecretChange}\n                value={secret}\n                required\n                autoFocus\n              />\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n              >\n                Sign In\n              </Button>\n            </form>\n          </div>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(SettingsLoginForm);\n","import React from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { FormControl, Select, InputLabel, MenuItem } from \"@material-ui/core\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { guid } from \"../../components\";\n\nimport \"./index.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nexport default function SortMenu(props) {\n  const classes = useStyles();\n\n  let { thisprops } = props.props;\n\n  return (\n    <div className=\"SortMenu\">\n      <div className=\"sort__container\">\n        <FormControl variant=\"outlined\" className={classes.formControl}>\n          <InputLabel id=\"sort-menu-label\">Sort</InputLabel>\n          <Select\n            labelId=\"sort-menu-label\"\n            id=\"sort-menu\"\n            value=\"\"\n            label=\"Sort\"\n          >\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=alphabet-asc`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Alphabet Ascending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=alphabet-des`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Alphabet Descending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=date-asc`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Date Ascending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=date-des`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Date Descending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=popularity-asc`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Popularity Ascending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=popularity-des`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Popularity Descending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=vote-asc`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Vote Ascending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=vote-des`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Vote Descending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=random`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Random</MenuItem>\n          </Link>\n          </Select>\n        </FormControl>\n      </div>\n    </div>\n  );\n}\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nconst lightTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"light\",\r\n    primary: {\r\n      main: \"#4197fe\",\r\n    },\r\n    secondary: {\r\n      main: \"#68a0e5\",\r\n    },\r\n    error: {\r\n      main: \"#d32f2f\",\r\n    },\r\n    warning: {\r\n      main: \"#ff9800\",\r\n    },\r\n    success: {\r\n      main: \"#4caf50\",\r\n    },\r\n    background: {\r\n      default: \"#fafafa\",\r\n      paper: \"#e8e8e8\",\r\n    },\r\n    text: {\r\n      primary: \"#0f0f0f\",\r\n    },\r\n    common: {\r\n      main: \"#000000\",\r\n    },\r\n  },\r\n});\r\n\r\nconst darkTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#4197fe\",\r\n    },\r\n    secondary: {\r\n      main: \"#68a0e5\",\r\n    },\r\n    error: {\r\n      main: \"#d32f2f\",\r\n    },\r\n    warning: {\r\n      main: \"#ff9800\",\r\n    },\r\n    success: {\r\n      main: \"#4caf50\",\r\n    },\r\n    background: {\r\n      default: \"#111111\",\r\n      paper: \"#1f1f1f\",\r\n    },\r\n    text: {\r\n      primary: \"#ffffff\",\r\n    },\r\n    common: {\r\n      main: \"#ffffff\",\r\n    },\r\n  },\r\n});\r\n\r\nconst draculaTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#6272a4\",\r\n    },\r\n    secondary: {\r\n      main: \"#44475a\",\r\n    },\r\n    error: {\r\n      main: \"#ffb86c\",\r\n    },\r\n    warning: {\r\n      main: \"#ff5555\",\r\n    },\r\n    success: {\r\n      main: \"#50fa7b\",\r\n    },\r\n    background: {\r\n      default: \"#282a36\",\r\n      paper: \"#242630\",\r\n    },\r\n    text: {\r\n      primary: \"#f8f8f2\",\r\n    },\r\n    common: {\r\n      main: \"#6272a4\",\r\n    },\r\n  },\r\n});\r\n\r\nconst nord = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#5E81AC\",\r\n    },\r\n    secondary: {\r\n      main: \"#88C0D0\",\r\n    },\r\n    error: {\r\n      main: \"#BF616A\",\r\n    },\r\n    warning: {\r\n      main: \"#EBCB8B\",\r\n    },\r\n    success: {\r\n      main: \"#A3BE8C\",\r\n    },\r\n    background: {\r\n      default: \"#2E3440\",\r\n      paper: \"#3B4252\",\r\n    },\r\n    text: {\r\n      primary: \"#ECEFF4\",\r\n    },\r\n    common: {\r\n      main: \"#81A1C1\",\r\n    },\r\n  },\r\n});\r\n\r\nvar theme;\r\n\r\nif (\r\n  localStorage.getItem(\"theme\") === \"light\" ||\r\n  sessionStorage.getItem(\"theme\") === \"light\"\r\n) {\r\n  theme = lightTheme;\r\n} else if (\r\n  localStorage.getItem(\"theme\") === \"dark\" ||\r\n  sessionStorage.getItem(\"theme\") === \"dark\"\r\n) {\r\n  theme = darkTheme;\r\n} else if (\r\n  localStorage.getItem(\"theme\") === \"dracula\" ||\r\n  sessionStorage.getItem(\"theme\") === \"dracula\"\r\n) {\r\n  theme = draculaTheme;\r\n} else if (\r\n  localStorage.getItem(\"theme\") === \"nord\" ||\r\n  sessionStorage.getItem(\"theme\") === \"nord\"\r\n) {\r\n  theme = nord;\r\n} else {\r\n  theme = darkTheme;\r\n  localStorage.setItem(\"theme\", \"dark\");\r\n  sessionStorage.setItem(\"theme\", \"dark\");\r\n}\r\n\r\nexport default theme;\r\n","import React, { Component } from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { Button, Divider, Menu, MenuItem, Typography } from \"@material-ui/core\";\nimport Rating from \"@material-ui/lab/Rating\";\n\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport DPlayer from \"react-dplayer\";\n\nimport axios from \"axios\";\nimport queryString from \"query-string\";\n\nimport { guid, Footer, Nav, theme } from \"../../components\";\nimport \"./index.css\";\n\nexport default class View extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      q: parseInt(queryString.parse(this.props.location.search).q) || 0,\n      id: this.props.match.params.id,\n      isLoaded: false,\n      metadata: {},\n      sources: [],\n    };\n  }\n\n  componentDidMount() {\n    let { auth, server } = this.state;\n\n    if (!auth || !server) {\n      this.props.history.push(\"/logout\");\n    }\n\n    document.documentElement.style.setProperty(\n      \"--plyr-color-main\",\n      theme.palette.primary.main\n    );\n    document.documentElement.style.setProperty(\n      \"--plyr-video-background\",\n      theme.palette.background.default\n    );\n    document.documentElement.style.setProperty(\n      \"--plyr-menu-background\",\n      theme.palette.background.paper\n    );\n    document.documentElement.style.setProperty(\n      \"--plyr-menu-color\",\n      theme.palette.text.primary\n    );\n\n    this.fetchData();\n  }\n\n  fetchData = async () => {\n    let { auth, id, name, q, server } = this.state;\n\n    await axios\n      .get(`${server}/api/v1/metadata?a=${auth}&id=${id}`)\n      .then((response) => {\n        let data = response.data;\n        if (data.content.mimeType == \"application/vnd.google-apps.folder\") {\n          id = data.content.children[q].id;\n          name = data.content.children[q].name;\n        } else {\n          name = data.content.name;\n        }\n        this.setState({\n          metadata: data.content,\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          let data = error.response.data;\n          if (data.code === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: data.message,\n              icon: \"error\",\n              confirmButtonText: \"Login\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              }\n            });\n          } else if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: data.message,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        }\n      });\n\n    await axios\n      .get(\n        `${server}/api/v1/stream_map?a=${auth}&id=${id}&name=${name}&server=${server}`\n      )\n      .then((response) =>\n        this.setState({\n          sources: response.data.content,\n          isLoaded: true,\n        })\n      )\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          let data = error.response.data;\n          if (data.code === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: data.message,\n              icon: \"error\",\n              confirmButtonText: \"Login\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              }\n            });\n          } else if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `Something went wrong while communicating with the server! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        }\n      });\n  };\n\n  render() {\n    let { isLoaded, metadata } = this.state;\n\n    return isLoaded && metadata.type == \"file\" ? (\n      <div className=\"View\">\n        <Nav />\n        <MovieView {...this} />\n        <Footer />\n      </div>\n    ) : isLoaded && metadata.type == \"directory\" && metadata.title ? (\n      <div className=\"View\">\n        <Nav />\n        <TVBView {...this} />\n        <Footer />\n      </div>\n    ) : isLoaded && metadata.type == \"directory\" ? (\n      <div className=\"View\">\n        <Nav />\n        <TVSView {...this} />\n        <Footer />\n      </div>\n    ) : (\n      <div className=\"Loading\">\n        <ClipLoader color={theme.palette.primary.main} size={75} />\n      </div>\n    );\n  }\n}\n\nexport class MovieView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = props.state;\n  }\n\n  render() {\n    let { metadata, server, sources } = this.state;\n    var defaultQuality;\n    if (sources.length > 1) {\n      defaultQuality = 1;\n    } else {\n      defaultQuality = 0;\n    }\n\n    return (\n      <div className=\"MovieView\">\n        <div className=\"plyr__component\">\n          <DPlayer\n            options={{\n              video: {\n                quality: sources,\n                defaultQuality: defaultQuality,\n                pic:\n                  metadata.backdropPath ||\n                  `${server}/api/v1/image/thumbnail?id=${metadata.id}`,\n              },\n              preload: \"auto\",\n              theme: theme.palette.primary.main,\n              contextmenu: [\n                {\n                  text: \"libDrive\",\n                  link: \"https://github.com/libDrive/libDrive\",\n                },\n              ],\n              lang: \"en\",\n            }}\n          />\n        </div>\n        <div className=\"info__container\">\n          <div className=\"info__left\">\n            <img\n              className=\"info__poster\"\n              src={\n                metadata.posterPath ||\n                `${server}/api/v1/image/poster?text=${metadata.title}&extention=jpeg`\n              }\n            />\n          </div>\n          <div className=\"info__right\">\n            <Typography variant=\"h2\" className=\"info__title\">\n              {metadata.title}\n            </Typography>\n            <Typography\n              variant=\"body1\"\n              className=\"info__overview\"\n              style={{ marginTop: \"30px\" }}\n            >\n              {metadata.overview}\n            </Typography>\n            <div className=\"vote__container\">\n              <Rating\n                name=\"Rating\"\n                value={metadata.voteAverage}\n                max={10}\n                readOnly\n              />\n            </div>\n            <PlayerMenu props={this.state} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport class TVBView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = props.state;\n  }\n\n  render() {\n    let { metadata, server } = this.state;\n\n    return (\n      <div className=\"TVBView\">\n        <div className=\"info__container\">\n          <div className=\"info__left\">\n            <img\n              className=\"info__poster\"\n              src={\n                metadata.posterPath ||\n                `${server}/api/v1/image/poster?text=${metadata.title}&extention=jpeg`\n              }\n            />\n          </div>\n          <div className=\"info__right\">\n            <Typography variant=\"h2\" className=\"info__title\">\n              {metadata.title}\n            </Typography>\n            <Typography\n              variant=\"body1\"\n              className=\"info__overview\"\n              style={{ marginTop: \"30px\" }}\n            >\n              {metadata.overview}\n            </Typography>\n            <div className=\"vote__container\">\n              <Rating\n                name=\"Rating\"\n                value={metadata.voteAverage}\n                max={10}\n                readOnly\n              />\n            </div>\n            <div className=\"buttons__container\">\n              <div className=\"button\">\n                <ChildrenMenu props={this.state} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport class TVSView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = props.state;\n  }\n\n  render() {\n    let { auth, metadata, server, sources } = this.state;\n\n    var defaultQuality;\n    if (sources.length > 1) {\n      defaultQuality = 1;\n    } else {\n      defaultQuality = 0;\n    }\n\n    let hash =\n      parseInt(queryString.parse(this.props.props.location.search).q) || 0;\n    function isHash(n, hash) {\n      if (n === hash) {\n        return \"pls-playing\";\n      } else {\n        return \"\";\n      }\n    }\n\n    return (\n      <div className=\"TVSView\">\n        <Typography\n          variant=\"h2\"\n          style={{ textAlign: \"center\", marginTop: \"25px\" }}\n        >\n          {metadata.name}\n        </Typography>\n        <Typography\n          variant=\"h5\"\n          style={{ textAlign: \"center\", marginTop: \"15px\" }}\n        >\n          {metadata.children[hash].name}\n        </Typography>\n        <div className=\"plyr__component\">\n          <DPlayer\n            options={{\n              video: {\n                quality: sources,\n                defaultQuality: defaultQuality,\n                pic: `${server}/api/v1/image/thumbnail?id=${metadata.children[hash].id}`,\n              },\n              preload: \"auto\",\n              theme: theme.palette.primary.main,\n              contextmenu: [\n                {\n                  text: \"libDrive\",\n                  link: \"https://github.com/libDrive/libDrive\",\n                },\n              ],\n              lang: \"en\",\n            }}\n          />\n          <div className=\"plyr-playlist-wrapper\">\n            <ul className=\"plyr-playlist\">\n              {metadata.children.length\n                ? metadata.children.map((child, n) => (\n                    <li className={isHash(n, hash)} key={n}>\n                      <Link\n                        to={{\n                          pathname: this.props.props.location.pathname,\n                          search: `?q=${n}`,\n                        }}\n                        key={guid()}\n                      >\n                        <img className=\"plyr-miniposter\" />\n                        {child.name}\n                      </Link>\n                    </li>\n                  ))\n                : null}\n            </ul>\n          </div>\n        </div>\n        <div style={{ textAlign: \"center\", marginBottom: \"5vh\" }}>\n          <PlayerMenu\n            props={{\n              auth: auth,\n              id: metadata.children[hash].id,\n              metadata: metadata.children[hash],\n              server: server,\n            }}\n          />\n          <PlaylistMenu props={this.state} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport function PlayerMenu(props) {\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setMenuAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setMenuAnchorEl(null);\n  };\n\n  let { auth, id, metadata, server } = props.props;\n\n  return (\n    <div className=\"PlayerMenu\" style={{ marginTop: \"30px\" }}>\n      <Button\n        aria-controls=\"player-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        variant=\"contained\"\n        color=\"primary\"\n      >\n        External Player\n      </Button>\n      <Menu\n        id=\"player-menu\"\n        anchorEl={menuAnchorEl}\n        keepMounted\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        open={Boolean(menuAnchorEl)}\n        onClose={handleClose}\n      >\n        <a\n          href={`vlc://${server}/api/v1/redirectdownload/${encodeURI(\n            metadata.name\n          )}?a=${auth}&id=${id}`}\n          className=\"no_decoration_link\"\n        >\n          <MenuItem onClick={handleClose}>VLC</MenuItem>\n        </a>\n        <a\n          href={`potplayer://${server}/api/v1/redirectdownload/${encodeURI(\n            metadata.name\n          )}?a=${auth}&id=${id}`}\n          className=\"no_decoration_link\"\n        >\n          <MenuItem onClick={handleClose}>PotPlayer</MenuItem>\n        </a>\n        <a\n          href={`nplayer-${server}/api/v1/redirectdownload/${encodeURI(\n            metadata.name\n          )}?a=${auth}&id=${id}`}\n          className=\"no_decoration_link\"\n        >\n          <MenuItem onClick={handleClose}>nPlayer</MenuItem>\n        </a>\n        <Divider />\n        <MenuItem\n          onClick={() => {\n            navigator.clipboard.writeText(\n              `${server}/api/v1/redirectdownload/${encodeURI(\n                metadata.name\n              )}?a=${auth}&id=${id}`\n            );\n            setMenuAnchorEl(null);\n          }}\n        >\n          Copy\n        </MenuItem>\n        <a\n          href={`${server}/api/v1/redirectdownload/${encodeURI(\n            metadata.name\n          )}?a=${auth}&id=${id}`}\n          className=\"no_decoration_link\"\n          target=\"_blank\"\n        >\n          <MenuItem onClick={handleClose}>Download</MenuItem>\n        </a>\n      </Menu>\n    </div>\n  );\n}\n\nexport function ChildrenMenu(props) {\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setMenuAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setMenuAnchorEl(null);\n  };\n\n  let { metadata } = props.props;\n\n  return (\n    <div className=\"ChildrenMenu\" style={{ marginTop: \"30px\" }}>\n      <Button\n        aria-controls=\"children-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        variant=\"contained\"\n        color=\"primary\"\n      >\n        Seasons\n      </Button>\n      <Menu\n        id=\"children-menu\"\n        anchorEl={menuAnchorEl}\n        keepMounted\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        open={Boolean(menuAnchorEl)}\n        onClose={handleClose}\n      >\n        {metadata.children.length\n          ? metadata.children.map((child) => {\n              if (child.type == \"directory\") {\n                return (\n                  <Link\n                    to={`/view/${child.id}`}\n                    className=\"no_decoration_link\"\n                    key={guid()}\n                  >\n                    <MenuItem onClick={handleClose}>{child.name}</MenuItem>\n                  </Link>\n                );\n              }\n            })\n          : null}\n      </Menu>\n    </div>\n  );\n}\n\nexport function PlaylistMenu(props) {\n  const handleClick = (props) => {\n    let { auth, metadata, server } = props.props;\n    let m3u8 = `#EXTM3U\\n#EXTENC: UTF-8\\n#PLAYLIST: ${metadata.name}\\n`;\n\n    for (var i = 0; i < metadata.children.length; i++) {\n      m3u8 += `#EXTINF:0, ${\n        metadata.children[i].name\n      }\\n${server}/api/v1/redirectdownload/${encodeURI(\n        metadata.children[i].name\n      )}?a=${auth}&id=${metadata.children[i].id}\\n`;\n    }\n\n    var element = document.createElement(\"a\");\n    element.setAttribute(\n      \"href\",\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(m3u8)\n    );\n    element.setAttribute(\"download\", `${metadata.name}.m3u8`);\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  };\n\n  return (\n    <div className=\"PlaylistMenu\" style={{ marginTop: \"30px\" }}>\n      <Button\n        onClick={() => {\n          handleClick(props);\n        }}\n        variant=\"contained\"\n        color=\"primary\"\n      >\n        m3u8 Playlist\n      </Button>\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\n\r\nimport { CssBaseline } from \"@material-ui/core\";\r\nimport { ThemeProvider } from \"@material-ui/core/styles\";\r\n\r\nimport {\r\n  App,\r\n  Browse,\r\n  CategoryBrowse,\r\n  Login,\r\n  Logout,\r\n  NotFound,\r\n  Search,\r\n  Settings,\r\n  SettingsLoginForm,\r\n  theme,\r\n  guid,\r\n  View,\r\n} from \"./components\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <Switch>\r\n        <Route\r\n          exact\r\n          path={\"/\"}\r\n          render={(props) => <App key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/browse\"}\r\n          render={(props) => <Browse key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/browse/:category\"}\r\n          render={(props) => <CategoryBrowse key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/login\"}\r\n          render={(props) => <Login key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/logout\"}\r\n          render={(props) => <Logout key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/search/:q\"}\r\n          render={(props) => <Search key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/settings\"}\r\n          render={(props) => <Settings key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/settings/login\"}\r\n          render={(props) => <SettingsLoginForm key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/view/:id\"}\r\n          render={(props) => <View key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          path={\"\"}\r\n          render={(props) => <NotFound key={guid()} {...props} />}\r\n        />\r\n      </Switch>\r\n    </ThemeProvider>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}